<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Web Storage Support Test</title>
	<!-- http://csh.rit.edu/~ryanw/chaos/WebStorageTest.html -->
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.8.13/themes/ui-lightness/jquery-ui.css">
	<link rel="stylesheet" href="style.css">
	<script src="http://code.jquery.com/jquery-1.6.1.js"></script>
	<script src="http://code.jquery.com/ui/1.8.13/jquery-ui.min.js"></script>
	<script src="config.js"></script>
	<script src="browserscope.js"></script>
	<script src="web-storage-support.js"></script>
	<script src="ui.js"></script>
</head>
<body>

<h1 class="ui-widget-header ui-corner-all">Web Storage Support Test</h1>

<p>This page will test whether your browser supports localStorage, sessionStorage or globalStorage.</p>
<p>The tests will also determine if there is a storage limit for any storage system that is supported.</p>

<button id="run-tests">Run Web Storage Tests</button>
<div id="tests"></div>

<p class="ui-state-highlight ui-corner-all notice">These tests may take several minutes to run.<br>
There may be periods when the tests seem frozen (especially in Firefox); they're not.<br>
Your browser may pause the tests if the window becomes inactive.<br>
A dialog will appear to inform you when the tests have completed.</p>

<h2>Results from previous test runs</h2>

<p class="ui-state-highlight ui-corner-all notice">These tests determine how many characters can be stored.
Many developers assume that one character equals one byte, but this is not a safe assumption.
Strings in JavaScript are UTF-16, so each character requires two bytes of memory.
This means that while many browsers have a 5 MB limit, you can only store 2.5 M characters.
Browsers are free to store the data on disk however they want, so measuring actual bytes isn't possible.
Developers will generally only care how many characters they can store anyway,
since that's what they can measure in their apps.</p>

<script src="http://www.browserscope.org/ua?o=js"></script>

<script type="text/html" id="test-results">
<table>
	<thead>
		<tr>
			<th>Browser</th>
			<th>localStorage</th>
			<th>sessionStorage</th>
			<th>globalStorage</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
</script>

<h2>Notes</h2>
<ul>
	<li>IE 9 has a problem with <a href="http://dev-test.nemikor.com/web-storage/keys">numeric indexes and bracket notation</a>.</li>
	<li>IE 9 doesn't report <a href="http://dev-test.nemikor.com/web-storage/bracket-limit">quota errors using bracket notation</a>.</li>
</ul>

<script>
var _gaq = [['_setAccount', 'UA-9863993-3'],['_trackPageview']];
(function(d, t) {
	var g = d.createElement(t),
		s = d.getElementsByTagName(t)[0];
	g.async = g.src = '//www.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g, s);
}(document, 'script'));
</script>

</body>
</html>
